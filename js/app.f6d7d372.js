(function(e){function t(t){for(var i,s,c=t[0],u=t[1],o=t[2],f=0,d=[];f<c.length;f++)s=c[f],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&d.push(a[s][0]),a[s]=0;for(i in u)Object.prototype.hasOwnProperty.call(u,i)&&(e[i]=u[i]);l&&l(t);while(d.length)d.shift()();return r.push.apply(r,o||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],i=!0,c=1;c<n.length;c++){var u=n[c];0!==a[u]&&(i=!1)}i&&(r.splice(t--,1),e=s(s.s=n[0]))}return e}var i={},a={app:0},r=[];function s(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=i,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(n,i,function(t){return e[t]}.bind(null,i));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var o=0;o<c.length;o++)t(c[o]);var l=u;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("ul",{staticClass:"sectors"},[n("li",{ref:"blue",staticClass:"sector blue",class:{active:1==e.activeSector},attrs:{id:"1"},on:{click:e.addPlayerStep}}),n("li",{ref:"red",staticClass:"sector red",class:{active:2==e.activeSector},attrs:{id:"2"},on:{click:e.addPlayerStep}}),n("li",{ref:"green",staticClass:"sector green",class:{active:3==e.activeSector},attrs:{id:"3"},on:{click:e.addPlayerStep}}),n("li",{ref:"yellow",staticClass:"sector yellow",class:{active:4==e.activeSector},attrs:{id:"4"},on:{click:e.addPlayerStep}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isPlaying&&e.rendering,expression:"isPlaying && rendering"}],staticClass:"hints"},[e._v("Запоминай!")]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isPlaying&&!e.rendering,expression:"isPlaying && !rendering"}],staticClass:"hints"},[e._v("Попоробуй повторить")]),n("Options",{attrs:{gameLevel:e.gameLevel,playerSuccessSteps:e.playerSuccessSteps,defeatAnnouncement:e.defeatAnnouncement},on:{"start-the-game":e.startTheGame,"change-difficulty":e.setDifficulty}})],1)},r=[],s=(n("d3b7"),n("96cf"),n("1da1")),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"options"},[n("span",{directives:[{name:"show",rawName:"v-show",value:e.defeatAnnouncement,expression:"defeatAnnouncement"}],staticClass:"game-status defeat-level"},[e._v("Неверно! Игра окончена. ")]),n("span",{directives:[{name:"show",rawName:"v-show",value:e.gameLevel>1&&!e.defeatAnnouncement,expression:"gameLevel > 1 && !defeatAnnouncement"}],staticClass:"game-status success-level"},[e._v("Верно! Следующий раунд. ")]),n("button",{attrs:{id:"start"},on:{click:[function(t){return e.$emit("start-the-game")},function(t){return e.$emit("change-difficulty",e.difficulty)}]}},[e._v("Играть")]),n("div",{staticClass:"stats"},[n("span",[e._v(" Уровень: "),n("strong",[e._v(e._s(e.gameLevel))])]),n("span",[e._v("Очки: "),n("strong",[e._v(e._s(e.currentPTS))])])]),n("h3",[e._v("Уровень сложности:")]),n("ul",[n("li",[n("label",{attrs:{for:"easy"}},[e._v("Лёгкий")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.difficulty,expression:"difficulty"}],attrs:{type:"radio",name:"difficulty",id:"easy",value:"easy"},domProps:{checked:e._q(e.difficulty,"easy")},on:{change:[function(t){e.difficulty="easy"},function(t){return e.$emit("change-difficulty",e.difficulty)}]}})]),n("li",[n("label",{attrs:{for:"normal"}},[e._v("Нормальный")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.difficulty,expression:"difficulty"}],attrs:{type:"radio",name:"difficulty",id:"normal",value:"normal",checked:""},domProps:{checked:e._q(e.difficulty,"normal")},on:{change:[function(t){e.difficulty="normal"},function(t){return e.$emit("change-difficulty",e.difficulty)}]}})]),n("li",[n("label",{attrs:{for:"hard"}},[e._v("Сложный")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.difficulty,expression:"difficulty"}],attrs:{type:"radio",name:"difficulty",id:"hard",value:"hard"},domProps:{checked:e._q(e.difficulty,"hard")},on:{change:[function(t){e.difficulty="hard"},function(t){return e.$emit("change-difficulty",e.difficulty)}]}})])])])},u=[],o=(n("a9e3"),{name:"Options",props:{gameLevel:Number,playerSuccessSteps:Number,defeatAnnouncement:Boolean},data:function(){return{difficulty:"normal"}},methods:{},computed:{currentPTS:function(){if(0!=this.gameLevel){if("hard"===this.difficulty)return Math.floor(this.playerSuccessSteps*this.gameLevel*1.5);if("normal"===this.difficulty)return Math.floor(this.playerSuccessSteps*this.gameLevel*1.25);if("easy"===this.difficulty)return Math.floor(this.playerSuccessSteps*this.gameLevel*1)}return 0}}}),l=o,f=(n("e5c7"),n("2877")),d=Object(f["a"])(l,c,u,!1,null,"065a7838",null),p=d.exports,h={name:"App",components:{Options:p},data:function(){return{defeatAnnouncement:!1,playerSequence:[],gameLevel:0,dalayMS:1e3,playerSuccessSteps:0,areYouWinningSon:!0,activeSector:null,isPlaying:!1,sequence:[],rendering:!1}},methods:{setDifficulty:function(e){console.log(e),"hard"===e&&(this.delayMS=400),"normal"===e&&(this.delayMS=1e3),"easy"===e&&(this.delayMS=1500)},startTheGame:function(){this.setSequence(),this.setDifficulty(),this.renderSequence(),this.defeatAnnouncement=!1,this.gameLevel=0,this.isPlaying=!0,this.areYouWinningSon=!0,this.playerSequence=[],console.log("Начали игру")},setSequence:function(){this.sequence=[],console.log(this.sequence);for(var e=0;e<10;e++)this.addStep()},addStep:function(){this.sequence.push(Math.floor(4*Math.random()+1))},renderSequence:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.rendering=!0,t.next=3,e.delay(1e3);case 3:return e.activeSector=null,t.next=6,e.delay(1e3);case 6:n=0;case 7:if(!(n<=e.gameLevel)){t.next=18;break}return e.activeSector=+e.sequence[n],e.playMusic(e.activeSector),t.next=12,e.delay(e.delayMS);case 12:return e.activeSector=null,t.next=15,e.delay(e.delayMS);case 15:n++,t.next=7;break;case 18:return t.next=20,e.delay(500);case 20:e.rendering=!1;case 21:case"end":return t.stop()}}),t)})))()},delay:function(e){return new Promise((function(t){return setTimeout((function(){return t()}),e)}))},addPlayerStep:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e&&(t.sector=e.target),e&&t.gameStatus&&!t.rendering&&(t.playerSequence.push(+e.target.getAttribute("id")),t.activeSector=e.target.getAttribute("id"),t.playMusic(e.target.getAttribute("id")),t.compareSequence());case 2:case"end":return n.stop()}}),n)})))()},compareSequence:function(){var e=this.playerSequence[this.playerSequence.length-1];console.log(this.sequence[this.playerSequence.length-1]),e===this.sequence[this.playerSequence.length-1]?(this.playerSuccessSteps+=1,this.playerSequence.length===this.gameLevel+1&&(this.gameLevel+=1,this.renderSequence(),this.playerSequence=[])):this.isPlaying&&(this.areYouWinningSon=!1,this.endGame())},endGame:function(){this.isPlaying=!1,this.defeatAnnouncement=!0},playMusic:function(e){var t=new Audio("sounds/"+e+".mp3");t.play()}},computed:{gameStatus:function(){return this.isPlaying&&this.areYouWinningSon}}},y=h,m=(n("cf25"),Object(f["a"])(y,a,r,!1,null,null,null)),v=m.exports;i["a"].config.productionTip=!1,i["a"].config.devtools=!0,new i["a"]({render:function(e){return e(v)}}).$mount("#app")},cf25:function(e,t,n){"use strict";n("fea6")},d7df:function(e,t,n){},e5c7:function(e,t,n){"use strict";n("d7df")},fea6:function(e,t,n){}});
//# sourceMappingURL=app.f6d7d372.js.map